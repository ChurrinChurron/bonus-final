<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styledef.css">
    <title>Bonus Affiliation Landing</title>
</head>
<body>
    <div class="circle"></div>
    <header>
        <a href="#"><img src="img/mobile/back.png" alt="back arrow"></a>
        <img id="logo" src="img/logo.png" alt="bonus logo">
    </header>

    <main>
        <div id="bonus-compras">
            <img src="img/bonus-compras.png" alt="bonus" />
        </div>
        
        <div class="content">
            <div class="banner desktop">
                <div class="banner imagen"></div>
            </div>
        
                <div id="flex">    
                    <div class="points form none">
                            <h2>Mira tus opciones para el sorteo y disfruta tus cupones exclusivos.</h2>
                            <br/>
                            <form id="formularioDatos">
                                <br/>
                                <div id="input-document">
                                    <div><label class="type-document"> D.N.I</label><img class="modal-document" src="img/icons/seleccion_abajo.svg" alt="arrow-down"></div>
                                    <input type="number" name="document" id="docu" placeholder="Nº de documento">
                                    <div class="icon"><img src="img/icons/dni.svg" alt="dni"></div>
                                </div>
                                <div id="input-birthday">
                                    <label id="type-birthday">Fecha de nacimiento</label>
                                    <input type="text" name="birth" id="birthday" placeholder="Día / Mes / Año" maxlength="10">
                                    <div class="icon"><img src="img/icons/nacimiento.svg" alt="birthday"></div>
                                </div>
                                <div class="terms-list">
                                    <div class="terms">
                                        <input type="checkbox" name="terms" id="condiciones" class="moz-check">
                                        <label for="condiciones" id="terms-text">Acepto los <a href="#">términos y condiciones</a></label>
                                    </div>
                                </div>
                                <input type="submit" name="two" id="registro" value="CONTINUAR">
                            </form>
                    </div>

                    <!--Div loader-->

                    <div class="points load des-load">
                        <div class="loader-inner ball-spin-fade-loader">
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                        <p class="text-load-b">Espera unos segundos...</p>
                        <p class="text-load">Estamos verificando tus datos.</p>
                        <p class="text-load-b">Sigue acumulando puntos y ganando opciones para el sorteo.</p>
                    </div>
                    
                    <div id="logos-particip">
                        <img src="img/logos-participantes/Metro.svg" alt="metro" />
                        <img src="img/logos-participantes/Wong.svg" alt="wong" />
                        <img id="primax" src="img/logos-participantes/Primax.svg" alt="primax" />
                        <img id="listo" src="img/logos-participantes/Listo.svg" alt="listo" />
                        <img src="img/logos-participantes/KFC.svg" alt="KFC" />
                        <img src="img/logos-participantes/Pizza-Hut.svg" alt="pizza-hut" />      
                    </div>
                </div>

        </div>

        </div>

    </main>

    <footer>
        <div class="dudas">
            <p><b>¿Dudas?</b> Escríbenos al <b><img src="img/icons/whatsapp.svg" alt="whatsapp-icon" />946 348 142</b> o llámanos al <b>01 610 5252</b></p>
        </div>
        
    </footer>

    <!--modal de la selección de documento-->

    <div class="modal selec-doc des-sel">
        <div class="modal white">
            <div id="close">
                <button class="modal-close"><img src="img/icons/cerrar_popup_informacion.svg" alt="close"></button>
            </div>
            <h2>SELECCIONA UN TIPO DE DOCUMENTO</h2>
            <div class="selec-lista">
                <button class="lista-botones" id="selec-dni">D.N.I</button>
                <button class="lista-botones" id="selec-pasaporte">Pasaporte</button>
                <button class="lista-botones" id="selec-ce">C.E</button>
            </div>
        </div>
    </div>

    <script>

    let none = document.querySelector(".selec-doc");
    let abrirLista = document.querySelector(".modal-document");
    let botonCerrar = document.querySelector(".modal-close");
    let loader = document.querySelector(".load");
    let botonRegistro = document.querySelector("#registro");
    let contenido = document.querySelector(".points");
    let logos = document.getElementById("logos-particip");
    let inputDate = document.getElementById("birthday");

    //Cambio de texto en el documento (preferiblemente hacerlo con input type select)

    let tipoDocu = document.querySelector(".type-document");
    let inputDocu = document.getElementById("docu");
    let maxNum = 8;
    let selDocumento = document.getElementById("selec-dni");
    let selPasaporte = document.getElementById("selec-pasaporte");
    let selCe = document.getElementById("selec-ce");
    let formulario = document.getElementById("formularioDatos");

//contenido del cuadro de los formularios

    contenido.classList.remove("none");

//abrir el pop up de la selección del documento

    abrirLista.addEventListener("click", () => {

        none.classList.remove("des-sel");
    });

    botonCerrar.addEventListener("click", () => {

        none.classList.add("des-sel");
    })
        
     none.addEventListener("click", () => {

        none.classList.add("des-sel");
    })

//boton loader

    botonRegistro.addEventListener("click", e => {

        e.preventDefault();

        contenido.classList.add("none");
        loader.classList.remove("des-load");
        logos.style.display = "none";
    });

//Cambio de texto en label de selección de documento

    inputDocu.addEventListener("input", e => {

        if(e.target.value > maxNum) {

            e.target.value = e.target.value.slice(0, maxNum);
        }
        
    });

    selDocumento.addEventListener("click", () => {

        tipoDocu.innerHTML = "D.N.I";
        none.classList.add("des-sel");
        inputDocu.type = "number";
        formulario.reset();

        inputDocu.addEventListener("input", e => {

            if(e.target.value > maxNum) {

                e.target.value = e.target.value.slice(0, maxNum);
            }
        
        });
    });

    selPasaporte.addEventListener("click", () => {

        tipoDocu.innerHTML = "Pasaporte";
        none.classList.add("des-sel");
        inputDocu.type = "text";
        inputDocu.maxLength = 15;
        formulario.reset();

    });

    selCe.addEventListener("click", () => {

        tipoDocu.innerHTML = "C.E";
        none.classList.add("des-sel");
        inputDocu.type = "text";
        inputDocu.maxLength = 9;
        formulario.reset();

    });
        
        // formato del input date

    let inputDateMask = function inputDateMask(el) {

        el.addEventListener("input", e => {

            if(e.keyCode < 47 || e.keyCode > 57) {
            e.preventDefault();
            
            }

            const len = el.value.length;

            /*Si estamos en un lugar determinado, 
            que el usuario escriba el slash*/

            if(len !== 1 || len !== 3) {
                if(e.keyCode == 47) {
                e.preventDefault();
                }
            }

            //Si no añadió el slash, esto lo hace automaticamente

            if(len === 2) {
                el.value += '/';
            }

            if(len === 5) {
                el.value += '/';
            }
        });
    };

    inputDateMask(inputDate);

    </script>
</body>
</html>
